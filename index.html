<!doctype html>
<html>
<head>
	<title>Crypto Wrecks</title>
	<script src="js/apexcharts.min.js"></script>
<!-- 	<style>
		canvas {
			-moz-user-select: none;
			-webkit-user-select: none;
			-ms-user-select: none;
		}
	</style> -->
</head>

<body>
<!-- 	<div style="width:75%;">
		<canvas id="myChart"></canvas>
	</div> -->
	<div id="chart" style="width:100%; margin:0 auto;">
		
	</div>

<!-- 	<script>
		var options = {
		  chart: {
		    type: 'bar'
		  },
		  series: [{
		    name: 'sales',
		    data: [30,40,45,50,49,60,70,91,125]
		  }],
		  xaxis: {
		    categories: [2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020]
		  }
		}

		var chart = new ApexCharts(document.querySelector("#chart"), options);

		chart.render();
	</script>	 -->

	<script>
		var options = {
          series: [{
	          name: 'attack_offchain',
	          data: [
              {
                x: new Date('2011-06-19').getTime(),
                y: 2,
                z: 8750,
                title: "Mt.Gox first hack",
                project: "Mt.Gox",
                location: "Japan",
                typeEventDesc: "security breach: auditor's credentials stolen by a hacker",
                status: "in progress",
                link_media: "",
                link_archive: ""
              },
              {
                x: new Date('2011-10-05').getTime(),
                y: 2,
                z: 25,
                title: "Bitcoin7 exchange system breached",
                project: "Bitcoin7",
                location: "Bulgaria",
                typeEventDesc: "The exchange's server and other systems on that network were compromised. A total of 5000 BTC were stolen, along with user database. Users were asked to send detailed personal information to the exchange in order to claim repayment of lost funds - an indication of the troublesome beginnings in the industry. There are indications pointing to an exit scam.",
                status: "unresolved",
                link_media: "https://siliconangle.com/2011/10/07/bitcoin7-hacked-funds-recovery-requires-sensitive-personal-information/",
                link_archive: "",
                link_community: "https://bitcointalk.org/index.php?topic=46982.0"
              },     
              {
                x: new Date('2012-09-05').getTime(),
                y: 2,
                z: 250,
                title: "BitFloor's unencrypted backup compromised",
                project: "BitFloor",
                location: "USA",
                typeEventDesc: "24000 BTC stolen when the hacker got access to an unencrypted backup of the exchange's hot wallet. The owner, Roman Shtylman, communicated about the event publicly. The exchange was a registered Money Service Business with FinCEN. BitFloor lost its bank account on April 17, 2013 and thus cease to operate.",
                status: "resolved",
                link_media: "https://bitcoinmagazine.com/articles/bitfloor-hacked-250000-missing-1346821046",
                link_archive: "",
                link_community: "https://bitcointalk.org/index.php?topic=105818.0"
              },                        
              {
                x: new Date('2018-06-19').getTime(),
                y: 1,
                z: 30000,
                title: "Bithumb hacked during moving assets into a cold wallet",
                project: "Bithumb",
                location: "",
                typeEventDesc: "security breach in the exchange's hot wallet, including multiple cryptocurrencies",
                status: "resolved",
                link_media: "https://cointelegraph.com/news/from-coincheck-to-bithumb-2018-s-largest-security-breaches-so-far",
                link_archive: ""
              },
              {
                x: new Date('2018-06-10').getTime(),
                y: 1,
                z: 37200,
                title: "Coinrail hacked out of 30% funds",
                project: "Coinrail",
                location: "South Korea",
                typeEventDesc: "security breach in the exchange's hot wallet, lost around 30% of all funds, including multiple cryptocurrencies, but mostly NPXS, ATX, NPER",
                status: "unresolved",
                link_media: "https://www.coindesk.com/coinrail-exchange-hacked-loses-possibly-40-million-in-cryptos",
                link_archive: "unresolved"
              },
              {
                x: new Date('2017-07-01').getTime(),
                y: 5,
                z: 195000,
                title: "BitGrail: a small exchange that lost big, owner's drama",
                project: "BitGrail",
                location: "Italy",
                typeEventDesc: "2.5m cryptocurrency Nano (ex RaiBlocks, XRB) were stolen in July (exact date unknown). Three months later, in October, 7.5m Nano was stolen. In December, funds from the hot wallet were moved to the cold wallet, while in February 2018, days before publicly announcing the theft, the owner moved 230 BTC to his personal account. The founder Francesco Firano blamed Nano developers and demanded reversing the transactions, while the developers denied the issue was in the protocol, rather in BitGrail's software. The Italian Bankruptcy Court found the vulnerability was with BitGrail and sentenced the owner and the exchange company to repay lost funds to the maximum available extent. Both also declared bankruptcy.",
                status: "resolved",
                link_media: "https://www.coindesk.com/coinrail-exchange-hacked-loses-possibly-40-million-in-cryptos",
                link_archive: "https://medium.com/nanocurrency/official-statement-regrading-bitgrail-insolvency-ed4422bf274b"
              }        
            ]
	        },
	        {
	        name: 'scam',
	          data: [
              {
                x: new Date('2014-02-07').getTime(),
                y: 1,
                z: 50000
              }         
            ]
	        },

			],
         chart: {
          height: 650,
          type: 'bubble',
          zoom: {
            type: 'xy'
          }
        },
        dataLabels: {
          enabled: false
        },
        fill: {
        	opacity: 0.8
        },
        grid: {
          xaxis: {
            lines: {
              show: true
            }
          },
          yaxis: {
            lines: {
              show: true
            }
          },
        },
        // markers: {
        // 	size: 14
        // },
        plotOptions: {
        	bubble: {
        		minBubbleRadius: 8,
        		maxBubbleRadius: 100
        	}
        },
        tooltip: {
        	x: {
        		format: 'yyyy-MM-dd'
        	},
        	custom: function({series, seriesIndex, dataPointIndex, w}) {
		    	const title = w.config.series[seriesIndex].data[dataPointIndex].title
		    	const descr = w.config.series[seriesIndex].data[dataPointIndex].typeEventDesc
		    	const status = w.config.series[seriesIndex].data[dataPointIndex].status
				const link_media = w.config.series[seriesIndex].data[dataPointIndex].link_media
				const link_archive = w.config.series[seriesIndex].data[dataPointIndex].link_archive

		    	const v = w.config.series[seriesIndex].data[dataPointIndex].z//series[seriesIndex][dataPointIndex]
		    	const dat = new Date(w.config.series[seriesIndex].data[dataPointIndex].x).toISOString().split('T')[0]

		    	return '<div class="arrow_box" style="white-space: normal;">' + 
			    		'<span>' + 
			    			'<STRONG>' + title + '</STRONG>' +
			    			' - ' + dat +
			    			'<BR/>Value (USD): ' + v + 
			    			'<BR/>Description: ' + descr +
			    			'<BR/>Status: ' + status 
			    			// +
			    			// '<BR/>Link from news media: ' + link_media +
			    			// '<BR/>Link to archive.org: ' + link_archive
			    		'</span>' +
		    		'</div>'
		    }        	
        },
        xaxis: {
          type: 'datetime',
	      labels: {
		    format: 'yyyy-MM-dd',
		  },
		  min: new Date('2010-01-01').getTime(),
		  max: new Date('2020-12-31').getTime()
        },
        yaxis: {
            //max: 10,
            labels: {
				minWidth: 50,
				formatter: function (value) {
					var chainName;

					switch(value) {
						case 1: chainName = 'multiple'; break;
						case 2: chainName = 'Bitcoin'; break;
						case 3: chainName = 'Ethereum'; break;
						case 4: chainName = 'EOS'; break;
						case 5: chainName = 'Nano'; break;
						default: chainName = 'unknown';
					}

					return chainName;
				}
			}          
        }
        
        };

        var chart = new ApexCharts(document.querySelector("#chart"), options);
        chart.render();
      		
	</script>
</body>
</html>